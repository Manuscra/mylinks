ðŸ› ï¸ 2. Dans ton application Flask, ajoute :
Soit : autoriser CORS globalement

from flask import Flask
from flask_cors import CORS

app = Flask(__name__)
CORS(app)  # autorise toutes les origines

Soit : autoriser une origine spÃ©cifique

from flask import Flask
from flask_cors import CORS

app = Flask(__name__)
CORS(app, origins=["http://localhost:3000"])  # ou ton domaine front

âœ… 3. Extrait dâ€™API Flask compatible

from flask import Flask, request, jsonify
from flask_cors import CORS

app = Flask(__name__)
CORS(app)

@app.route('/mylinks/login', methods=['POST'])
def login():
    data = request.get_json()
    username = data.get('username')
    password = data.get('password')

    if username == 'test' and password == 'pass':
        return jsonify(token='fake-jwt-token'), 200
    else:
        return jsonify(error='Invalid credentials'), 401

if __name__ == '__main__':
    app.run(debug=True)

âœ… Et cÃ´tÃ© JS : rien Ã  changer

Ton code fetch peut rester comme Ã§a :

fetch('http://localhost:5000/mylinks/login', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    username: 'test',
    password: 'pass'
  })
})
.then(res => res.json())
.then(data => {
  sessionStorage.setItem('jwt', data.token);
  console.log('Token stockÃ©:', data.token);
})
.catch(err => {
  console.error('Erreur :', err);
  alert('Erreur : ' + err.message);
});


